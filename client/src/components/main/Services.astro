---
import { ServicesModel } from "../../models/ServicesModel";
import Section from "../shared/Section.astro";
const unsortServices = await Astro.glob<ServicesModel>('/public/assets/services/*.md');
const services = unsortServices.sort((a, b) => a.frontmatter.id - b.frontmatter.id);

function setClass(id: number) {
  switch(id) {
    case(1):
      return "services__item_strategy";
    case(2):
      return "services__item_architecture";
    case(3):
      return "services__item_automation";
    case(4):
      return "services__item_blockchain";
    case(5):
      return "services__item_wallets";
    default:
      return "";
  }
}

---

<Section title="Our Services">
  <ul class="services__list">
    {services.map(i => (
      <li class={`services__item ${setClass(i.frontmatter.id)}`}>
        <a href={`/services/${i.frontmatter.slug}`}>
          <h3 class="services__title">{i.frontmatter.title}</h3>
        </a>
        <p class="services__desc">{i.frontmatter.desc}</p>
      </li>
    ))}
  </ul>
</Section>

<style lang="scss">
  .services__list {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr auto 1fr;
    gap: 1.875rem;
  }

  .services__item {
    padding: 2.5rem 2.5rem 22.375rem 2.5rem;
    border-radius: 20px;
    background-repeat: no-repeat;
    background-position: center bottom;

    a {
      text-decoration: none;
      color: #FFFFFF;
      transition: color 0.3s ease-in-out;
    }

    a:hover {
      color: var(--color-hover)
    }
  }

  .services__title {
    font-weight: 700;
    font-size: 24px;
  }

  .services__desc {
    font-weight: 400;
    font-size: 18px;
    line-height: 160%;
    opacity: 0.75;
  }

  .services__item_strategy {
    background-color: #FC6383;
    background-image: url("/assets/img/main/strategy.svg");
  }
  
  .services__item_architecture {
    background-color: #29243D;
    background-image: url("/assets/img/main/architecture.svg");
  }
  
  .services__item_automation {
    grid-column-start: 1;
    grid-column-end: 3;
    padding-bottom: 2.5rem;
    padding-right: 45rem;
    background: #2D6889 url("/assets/img/main/automation.svg") no-repeat right center;
  }
  
  .services__item_blockchain {
    background-color: #29243D;
    background-image: url("/assets/img/main/blockchain.svg");
  }
  
  .services__item_wallets {
    background-color: #FC6383;
    background-image: url("/assets/img/main/wallets.svg");
  }
</style>